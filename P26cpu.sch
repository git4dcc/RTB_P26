EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 4
Title "RTB P26 Railcom/Motor IF"
Date "2025-09-07"
Rev "1"
Comp "Frank Schumacher"
Comment1 "Railcom sender & Motor driver"
Comment2 "P26.1"
Comment3 ""
Comment4 ""
$EndDescr
Text Notes 750  800  0    118  ~ 24
CPU
$Comp
L Device:R R1
U 1 1 5F9A60D1
P 3150 2600
F 0 "R1" V 3100 2750 50  0000 L CNN
F 1 "33k" V 3150 2550 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 2600 50  0001 C CNN
F 3 "~" H 3150 2600 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 33kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 3150 2600 50  0001 C CNN "Description"
F 5 "C4216" V 3150 2600 50  0001 C CNN "JLCPCB"
	1    3150 2600
	0    1    1    0   
$EndComp
Wire Wire Line
	3650 2600 3300 2600
Wire Wire Line
	3000 2700 2950 2700
Wire Wire Line
	2150 2000 1900 2000
$Comp
L power:GND #PWR0101
U 1 1 5FCC6BA0
P 2150 3300
F 0 "#PWR0101" H 2150 3050 50  0001 C CNN
F 1 "GND" V 2150 3100 50  0000 C CNN
F 2 "" H 2150 3300 50  0001 C CNN
F 3 "" H 2150 3300 50  0001 C CNN
	1    2150 3300
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3650 2700 3300 2700
Wire Wire Line
	1900 2800 2150 2800
Text GLabel 2150 2900 2    50   Input ~ 0
UDCC-a
Text GLabel 3650 2700 2    50   Input ~ 0
DCC-b
Text GLabel 3650 2600 2    50   Input ~ 0
DCC-a
Text GLabel 2150 2400 2    50   Output ~ 0
PWM2
Text GLabel 2150 2300 2    50   Output ~ 0
PWM1
Wire Wire Line
	1900 2100 2150 2100
Text GLabel 2150 2200 2    50   Input ~ 0
ISENS
Wire Wire Line
	1900 2900 2150 2900
Text GLabel 2150 2000 2    50   Input ~ 0
uSENS1
Text GLabel 2150 2100 2    50   Input ~ 0
uSENS2
Wire Wire Line
	2150 2200 1900 2200
Wire Wire Line
	1900 2300 2150 2300
$Comp
L Device:R R2
U 1 1 5F9A6929
P 3150 2700
F 0 "R2" V 3200 2850 50  0000 L CNN
F 1 "33k" V 3150 2650 50  0000 L CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3080 2700 50  0001 C CNN
F 3 "~" H 3150 2700 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 33kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 3150 2700 50  0001 C CNN "Description"
F 5 "C4216" V 3150 2700 50  0001 C CNN "JLCPCB"
	1    3150 2700
	0    1    1    0   
$EndComp
Text GLabel 2150 2800 2    50   Input ~ 0
UDCC-b
Wire Wire Line
	2150 3000 1900 3000
Wire Wire Line
	1900 2600 2950 2600
Wire Wire Line
	1900 2500 2150 2500
Wire Wire Line
	1900 1800 2150 1800
Text GLabel 2150 3000 2    50   Output ~ 0
RCM.tx
$Comp
L power:+3V3 #PWR0102
U 1 1 61F84864
P 2150 3200
F 0 "#PWR0102" H 2150 3050 50  0001 C CNN
F 1 "+3V3" V 2150 3450 50  0000 C CNN
F 2 "" H 2150 3200 50  0001 C CNN
F 3 "" H 2150 3200 50  0001 C CNN
	1    2150 3200
	0    1    1    0   
$EndComp
Text GLabel 2150 2500 2    50   Output ~ 0
Vref
Wire Wire Line
	2150 2400 1900 2400
Wire Notes Line
	950  1100 4850 1100
Wire Notes Line
	4850 1100 4850 4600
Wire Notes Line
	4850 4600 950  4600
Wire Notes Line
	950  4600 950  1100
Text Notes 1000 1250 0    79   ~ 0
Low Voltage (3.3V) Connections
Wire Wire Line
	2150 3300 1900 3300
Wire Wire Line
	2150 3200 1900 3200
Wire Wire Line
	6700 2900 6950 2900
Wire Wire Line
	6700 3000 6950 3000
$Comp
L Connector_Generic:Conn_01x16 J2
U 1 1 66FADBFD
P 1700 2600
F 0 "J2" H 1900 2600 50  0000 C CNN
F 1 "Low voltage I/O" H 1618 1666 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x16_P2.54mm_Vertical" H 1700 2600 50  0001 C CNN
F 3 "~" H 1700 2600 50  0001 C CNN
	1    1700 2600
	-1   0    0    1   
$EndComp
NoConn ~ 1900 3100
NoConn ~ 6950 3100
NoConn ~ 6950 2800
Wire Wire Line
	6800 3300 6950 3300
Wire Wire Line
	6800 3200 6950 3200
$Comp
L power:GND #PWR0103
U 1 1 66F9633C
P 6800 3300
F 0 "#PWR0103" H 6800 3050 50  0001 C CNN
F 1 "GND" V 6800 3100 50  0000 C CNN
F 2 "" H 6800 3300 50  0001 C CNN
F 3 "" H 6800 3300 50  0001 C CNN
	1    6800 3300
	0    1    1    0   
$EndComp
Text GLabel 6800 3200 0    50   Input ~ 0
VHBR
Text GLabel 6700 3000 0    50   Output ~ 0
M2
Text GLabel 6700 2900 0    50   Output ~ 0
M1
Wire Wire Line
	6700 2700 6950 2700
Text GLabel 6700 2700 0    50   Output ~ 0
DCC-b
Wire Wire Line
	6700 2600 6950 2600
Text GLabel 6700 2600 0    50   Output ~ 0
DCC-a
$Comp
L Connector_Generic:Conn_01x08 J1
U 1 1 66FB3033
P 7150 3000
F 0 "J1" H 7350 3000 50  0000 C CNN
F 1 "High Voltage I/O" H 7150 2450 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x08_P2.54mm_Vertical" H 7150 3000 50  0001 C CNN
F 3 "~" H 7150 3000 50  0001 C CNN
	1    7150 3000
	1    0    0    1   
$EndComp
$Comp
L Device:LED D3
U 1 1 6700CCDD
P 3150 1900
F 0 "D3" H 3300 1850 50  0000 C CNN
F 1 "LED (wht)" H 3100 2050 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric" H 3150 1900 50  0001 C CNN
F 3 "~" H 3150 1900 50  0001 C CNN
F 4 "100mW 120° 2.6V~3.1V 360mcd 5mA White 0603 LED Indication - Discrete ROHS" H 3150 1900 50  0001 C CNN "Description"
F 5 "C2290" H 3150 1900 50  0001 C CNN "JLCPCB"
	1    3150 1900
	-1   0    0    1   
$EndComp
$Comp
L Device:LED D2
U 1 1 67012789
P 3150 1700
F 0 "D2" H 3300 1650 50  0000 C CNN
F 1 "LED (wht)" H 3100 1550 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric" H 3150 1700 50  0001 C CNN
F 3 "~" H 3150 1700 50  0001 C CNN
F 4 "100mW 120° 2.6V~3.1V 360mcd 5mA White 0603 LED Indication - Discrete ROHS" H 3150 1700 50  0001 C CNN "Description"
F 5 "C2290" H 3150 1700 50  0001 C CNN "JLCPCB"
	1    3150 1700
	-1   0    0    1   
$EndComp
$Comp
L Device:R R18
U 1 1 67012DB3
P 3750 1700
F 0 "R18" V 3700 1900 50  0000 C CNN
F 1 "3.3k" V 3750 1700 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1700 50  0001 C CNN
F 3 "~" H 3750 1700 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 3.3kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 3750 1700 50  0001 C CNN "Description"
F 5 "C22978" V 3750 1700 50  0001 C CNN "JLCPCB"
	1    3750 1700
	0    1    1    0   
$EndComp
$Comp
L Device:R R19
U 1 1 67013526
P 3750 1900
F 0 "R19" V 3700 2100 50  0000 C CNN
F 1 "3.3k" V 3750 1900 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 3680 1900 50  0001 C CNN
F 3 "~" H 3750 1900 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 3.3kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 3750 1900 50  0001 C CNN "Description"
F 5 "C22978" V 3750 1900 50  0001 C CNN "JLCPCB"
	1    3750 1900
	0    1    1    0   
$EndComp
Wire Wire Line
	3300 1700 3600 1700
Wire Wire Line
	3300 1900 3600 1900
Wire Wire Line
	3900 1700 4100 1700
Wire Wire Line
	4100 1700 4100 1900
Wire Wire Line
	4100 1900 3900 1900
Wire Wire Line
	1900 1900 3000 1900
Wire Wire Line
	2150 1800 2150 1700
Wire Wire Line
	2150 1700 3000 1700
$Comp
L power:GND #PWR0108
U 1 1 67015FD5
P 4200 1900
F 0 "#PWR0108" H 4200 1650 50  0001 C CNN
F 1 "GND" V 4200 1700 50  0000 C CNN
F 2 "" H 4200 1900 50  0001 C CNN
F 3 "" H 4200 1900 50  0001 C CNN
	1    4200 1900
	0    -1   -1   0   
$EndComp
Wire Wire Line
	4100 1900 4200 1900
Connection ~ 4100 1900
$Comp
L Device:LED D4
U 1 1 67018FC8
P 3050 4200
F 0 "D4" H 2900 4250 50  0000 C CNN
F 1 "LED (blue)" H 3050 4350 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric" H 3050 4200 50  0001 C CNN
F 3 "~" H 3050 4200 50  0001 C CNN
F 4 "120° 20mA 3.3V 300mcd 455nm~475nm 470nm 70mW Blue Water Clear op View Mount 0603 LED Indication - Discrete ROHS" H 3050 4200 50  0001 C CNN "Description"
F 5 "C965807" H 3050 4200 50  0001 C CNN "JLCPCB"
	1    3050 4200
	-1   0    0    1   
$EndComp
$Comp
L Device:R R20
U 1 1 67019533
P 2600 4200
F 0 "R20" V 2550 4400 50  0000 C CNN
F 1 "3.3k" V 2600 4200 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2530 4200 50  0001 C CNN
F 3 "~" H 2600 4200 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 3.3kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 2600 4200 50  0001 C CNN "Description"
F 5 "C22978" V 2600 4200 50  0001 C CNN "JLCPCB"
	1    2600 4200
	0    1    1    0   
$EndComp
Text GLabel 3400 4200 2    50   Input ~ 0
RCM.tx
Wire Wire Line
	3200 4200 3400 4200
Wire Wire Line
	2750 4200 2900 4200
$Comp
L power:+3V3 #PWR0109
U 1 1 6701B258
P 2350 4200
F 0 "#PWR0109" H 2350 4050 50  0001 C CNN
F 1 "+3V3" V 2350 4450 50  0000 C CNN
F 2 "" H 2350 4200 50  0001 C CNN
F 3 "" H 2350 4200 50  0001 C CNN
	1    2350 4200
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2350 4200 2450 4200
$Comp
L Device:LED D5
U 1 1 67021FD2
P 3050 3950
F 0 "D5" H 2900 4000 50  0000 C CNN
F 1 "LED (green)" H 3043 3786 50  0000 C CNN
F 2 "LED_SMD:LED_0603_1608Metric" H 3050 3950 50  0001 C CNN
F 3 "~" H 3050 3950 50  0001 C CNN
F 4 "-30℃~+85℃ 1.6V~2.6V 13mcd 140° 25mA 565nm~578nm 576nm 65mW Yellow Green 0603 LED Indication - Discrete ROHS" H 3050 3950 50  0001 C CNN "Description"
F 5 "C84264" H 3050 3950 50  0001 C CNN "JLCPCB"
	1    3050 3950
	-1   0    0    1   
$EndComp
$Comp
L Device:R R21
U 1 1 67022136
P 2600 3950
F 0 "R21" V 2550 4150 50  0000 C CNN
F 1 "3.3k" V 2600 3950 50  0000 C CNN
F 2 "Resistor_SMD:R_0603_1608Metric" V 2530 3950 50  0001 C CNN
F 3 "~" H 2600 3950 50  0001 C CNN
F 4 "-55℃~+155℃ 100mW 3.3kΩ 75V Thick Film Resistor ±1% ±100ppm/℃ 0603 Chip Resistor - Surface Mount ROHS" V 2600 3950 50  0001 C CNN "Description"
F 5 "C22978" V 2600 3950 50  0001 C CNN "JLCPCB"
	1    2600 3950
	0    1    1    0   
$EndComp
Wire Wire Line
	3200 3950 3500 3950
Wire Wire Line
	2750 3950 2900 3950
$Comp
L power:+3V3 #PWR0110
U 1 1 67022143
P 2350 3950
F 0 "#PWR0110" H 2350 3800 50  0001 C CNN
F 1 "+3V3" V 2350 4200 50  0000 C CNN
F 2 "" H 2350 3950 50  0001 C CNN
F 3 "" H 2350 3950 50  0001 C CNN
	1    2350 3950
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2350 3950 2450 3950
$Comp
L power:GND #PWR0111
U 1 1 67023314
P 3500 3950
F 0 "#PWR0111" H 3500 3700 50  0001 C CNN
F 1 "GND" V 3500 3750 50  0000 C CNN
F 2 "" H 3500 3950 50  0001 C CNN
F 3 "" H 3500 3950 50  0001 C CNN
	1    3500 3950
	0    -1   -1   0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J3
U 1 1 67028B9E
P 9750 2750
F 0 "J3" H 9900 2700 50  0000 C CNN
F 1 "DC motor output" H 9750 2500 50  0000 C CNN
F 2 "RTB:1725656" H 9750 2750 50  0001 C CNN
F 3 "~" H 9750 2750 50  0001 C CNN
	1    9750 2750
	1    0    0    1   
$EndComp
Text GLabel 9400 2750 0    50   Output ~ 0
M2
Text GLabel 9400 2650 0    50   Output ~ 0
M1
Wire Wire Line
	9400 2650 9550 2650
Wire Wire Line
	9400 2750 9550 2750
$Comp
L Connector_Generic:Conn_01x02 J4
U 1 1 6702E4B9
P 9750 3350
F 0 "J4" H 9900 3300 50  0000 C CNN
F 1 "DCC input" H 9668 3116 50  0000 C CNN
F 2 "RTB:1725656" H 9750 3350 50  0001 C CNN
F 3 "~" H 9750 3350 50  0001 C CNN
	1    9750 3350
	1    0    0    1   
$EndComp
Text GLabel 9400 3350 0    50   Output ~ 0
DCC-b
Text GLabel 9400 3250 0    50   Output ~ 0
DCC-a
Wire Wire Line
	9400 3250 9550 3250
Wire Wire Line
	9550 3350 9400 3350
$Comp
L Device:D_Schottky D6
U 1 1 67302F1B
P 3150 2450
F 0 "D6" H 3150 2233 50  0000 C CNN
F 1 "D_Schottky" H 3150 2324 50  0000 C CNN
F 2 "RTB:SM5819L2TP" H 3150 2450 50  0001 C CNN
F 3 "~" H 3150 2450 50  0001 C CNN
F 4 "-40℃~+125℃ 200mA 30uA@30V 3A 40V 480mV@200mA SOD-923F Schottky Diodes ROHS" H 3150 2450 50  0001 C CNN "Description"
F 5 "C3012686" H 3150 2450 50  0001 C CNN "JLCPCB"
	1    3150 2450
	-1   0    0    1   
$EndComp
Wire Wire Line
	3000 2450 2950 2450
Wire Wire Line
	2950 2450 2950 2600
Connection ~ 2950 2600
Wire Wire Line
	2950 2600 3000 2600
$Comp
L power:+3V3 #PWR0112
U 1 1 67304CAF
P 3650 2450
F 0 "#PWR0112" H 3650 2300 50  0001 C CNN
F 1 "+3V3" V 3650 2700 50  0000 C CNN
F 2 "" H 3650 2450 50  0001 C CNN
F 3 "" H 3650 2450 50  0001 C CNN
	1    3650 2450
	0    1    1    0   
$EndComp
Wire Wire Line
	3300 2450 3650 2450
$Comp
L Device:D_Schottky D7
U 1 1 67306696
P 3150 2850
F 0 "D7" H 3150 3050 50  0000 C CNN
F 1 "D_Schottky" H 3150 2950 50  0000 C CNN
F 2 "RTB:SM5819L2TP" H 3150 2850 50  0001 C CNN
F 3 "~" H 3150 2850 50  0001 C CNN
F 4 "-40℃~+125℃ 200mA 30uA@30V 3A 40V 480mV@200mA SOD-923F Schottky Diodes ROHS" H 3150 2850 50  0001 C CNN "Description"
F 5 "C3012686" H 3150 2850 50  0001 C CNN "JLCPCB"
	1    3150 2850
	-1   0    0    1   
$EndComp
Wire Wire Line
	2950 2700 2950 2850
Wire Wire Line
	2950 2850 3000 2850
Connection ~ 2950 2700
Wire Wire Line
	2950 2700 1900 2700
$Comp
L power:+3V3 #PWR0117
U 1 1 67307E1C
P 3650 2850
F 0 "#PWR0117" H 3650 2700 50  0001 C CNN
F 1 "+3V3" V 3650 3100 50  0000 C CNN
F 2 "" H 3650 2850 50  0001 C CNN
F 3 "" H 3650 2850 50  0001 C CNN
	1    3650 2850
	0    1    1    0   
$EndComp
Wire Wire Line
	3300 2850 3650 2850
Wire Notes Line
	5650 1100 5650 4600
Wire Notes Line
	5650 4600 10800 4600
Wire Notes Line
	10800 4600 10800 1100
Wire Notes Line
	10800 1100 5650 1100
Text Notes 5700 1250 0    79   ~ 0
High Voltage Connections (8-16V)
Wire Notes Line
	8250 1900 8250 4300
Text Notes 8450 2050 0    50   ~ 0
Terminal Screw Connectors
Text Notes 5950 2050 0    50   ~ 0
Breadboard Pin Header
Wire Notes Line
	1250 3550 4500 3550
Text Notes 1500 3700 0    50   ~ 0
(optional)
Text Notes 1200 5100 0    50   ~ 0
Remarks:\n- D6/D7 Schottky cap the input voltage on the DCC pins to (VDD+0.3V)\n  (some CPUs do not like high voltage on I/O pins, despite body diodes)
$EndSCHEMATC
